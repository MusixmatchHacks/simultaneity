!function(){"use strict";function a(a,b){var c=[];return c.push(a),c.push(b),h(c)}function b(b){var c=j+k;$(document.body).prepend("<svg class = 'labels' id = '"+c+"' width = '"+e+"px' height ='"+f+"px' ></svg>"),d3.select("#"+c).selectAll("circle").data(b).enter().append("circle").classed("location",!0).attr("r",.5).style("opacity",0).each(function(b){var c=a(b[5],b[6]);d3.select(this).attr("cx",c[0]),d3.select(this).attr("cy",c[1])}).transition().duration(1e3).delay(100).style("opacity",1),k++}function c(a){return $.getJSON(a)}function d(a){c(a).then(function(a){b(a)})}var e=window.innerWidth,f=window.innerHeight,g=(d3.select("#labels").attr("width",e).attr("height",f),d3.select("#world").attr("width",e).attr("height",f)),h=d3.geo.equirectangular().scale(e/5.7).translate([e/2,f/2]).precision(.1),i=d3.geo.path().projection(h);d3.json("./world.json",function(a,b){if(a)throw a;g.insert("path",".graticule").datum(topojson.feature(b,b.objects.land)).attr("class","land").attr("d",i)}),d3.select(self.frameElement).style("height",f+"px");var j="label",k=0,l="http://ec2-54-147-191-254.compute-1.amazonaws.com/view_relayer_dummy/get_views";setInterval(function(){d(l)},2e3)}();